<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Foreverboard Loader Check</title>
  <style>
    body{margin:0;padding:16px;font-family:system-ui;background:#0b1220;color:#eaf0ff;}
    .box{border:1px solid rgba(255,255,255,.15);border-radius:12px;padding:12px;background:rgba(255,255,255,.04);}
    .ok{color:#7CFC98}
    .bad{color:#FF7C7C}
    code{white-space:pre-wrap;word-break:break-word}
  </style>
</head>
<body>
  <h2>Loader Check</h2>
  <div class="box" id="log">Startingâ€¦</div>

  <script type="module">
    const logEl = document.getElementById('log');
    const log = (msg, cls='')=>{
      logEl.innerHTML = `<div class="${cls}">${msg}</div>` + logEl.innerHTML;
    };

    // ì „ì—­ ì—ëŸ¬ í‘œì‹œ
    window.addEventListener('error', (e)=>log(`âŒ error: ${e.message}`, 'bad'));
    window.addEventListener('unhandledrejection', (e)=>log(`âŒ promise: ${e.reason?.message || e.reason}`, 'bad'));

    log('âœ… index.html module OK', 'ok');

    // 1) CSS ì—”íŠ¸ë¦¬ ë¡œë“œ í…ŒìŠ¤íŠ¸ (ìˆìœ¼ë©´)
    const cssHref = 'css/style.css?v=' + Date.now();
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = cssHref;
    link.onload = ()=>log(`âœ… CSS loaded: ${cssHref}`, 'ok');
    link.onerror = ()=>log(`âŒ CSS failed: ${cssHref} (ê²½ë¡œ/íŒŒì¼ëª… í™•ì¸)`, 'bad');
    document.head.appendChild(link);

    // 2) main.js ëª¨ë“ˆ ë¡œë“œ í…ŒìŠ¤íŠ¸
    const mainPath = './js/main.js?v=' + Date.now();
    try{
      const mod = await import(mainPath);
      log(`âœ… main.js imported: ${mainPath}`, 'ok');
      log(`OK. (ì´ í™”ë©´ì´ ê³„ì† ë³´ì´ë©´ main.jsê°€ í™”ë©´ì„ ê·¸ë¦¬ì§€ ì•ŠëŠ” ìƒíƒœ)`, 'ok');
      // main.jsê°€ exportê°€ ì—†ì–´ë„ import ì„±ê³µì´ë©´ OK
    }catch(err){
      log(`âŒ main.js import failed: ${mainPath}`, 'bad');
      log(`<code>${(err && (err.stack || err.message)) || err}</code>`, 'bad');
      log(`ğŸ“Œ ì›ì¸ 99%: (1) js í´ë”/íŒŒì¼ëª… ë¶ˆì¼ì¹˜ (2) main.js ìœ„ì¹˜ ë‹¤ë¦„ (3) GitHubì— ì»¤ë°‹ ì•ˆ ë¨`, 'bad');
    }
  </script>
</body>
</html>
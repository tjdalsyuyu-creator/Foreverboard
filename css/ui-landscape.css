/* css/ui-landscape.css v1.6.11
   목표: 가로/전체화면에서 "스크롤 0 + 잘림 0"
   핵심:
   - 좌석 actions(버튼들) 높이 폭발 방지: 2열 고정 + ellipsis
   - center(상태/딜러/센터액션) 초압축
   - topbar 2줄 방지 + 높이 압축
*/

/* ------------------------------
   0) TOPBAR: 2줄 방지 + 압축
------------------------------ */
body.ui-landscape #topbar.topbar,
body.ui-fs-landscape #topbar.topbar{
  padding: 6px 10px !important;
  gap: 8px !important;
  align-items: center !important;
}

body.ui-landscape #topbar .brand,
body.ui-fs-landscape #topbar .brand{
  white-space: nowrap !important;
  font-size: 13px !important;
}

body.ui-landscape #topbar .ver,
body.ui-fs-landscape #topbar .ver{
  font-size: 11px !important;
  padding: 1px 6px !important;
}

body.ui-landscape #topbar .meta,
body.ui-fs-landscape #topbar .meta{
  flex-wrap: nowrap !important; /* ✅ 2줄 방지 */
  gap: 6px !important;
}

body.ui-landscape #topbar .btn,
body.ui-fs-landscape #topbar .btn{
  padding: 6px 10px !important;
  font-size: 12px !important;
  line-height: 1.05 !important;
  border-radius: 12px !important;
}

/* ------------------------------
   1) TABLE: no-scroll 고정
------------------------------ */
body.ui-landscape .table,
body.ui-fs-landscape .table{
  position: relative;

  /* ✅ no-scroll 목표 */
  height: calc(100dvh - 56px) !important;
  overflow: hidden !important;

  display: grid !important;
  grid-template-rows: 0.90fr 1.20fr 0.90fr;
  grid-template-columns: 0.90fr 1.20fr 0.90fr;

  gap: 4px !important;
  padding: 4px !important;

  align-content: stretch;
  isolation: isolate;
}

/* 상단바 숨김이면 56px 보정 제거 */
body.ui-landscape.topbar-hidden .table,
body.ui-fs-landscape.topbar-hidden .table{
  height: 100dvh !important;
}

/* ------------------------------
   2) 카드 공통: 초압축
------------------------------ */
body.ui-landscape .seat,
body.ui-fs-landscape .seat,
body.ui-landscape .center,
body.ui-fs-landscape .center{
  transform: none !important;
  clip-path: inset(0 round 12px);
  contain: paint;
  min-width: 0;

  padding: 5px !important;
  border-radius: 12px !important;
}

/* 위치 지정 */
body.ui-landscape .seat-top,
body.ui-fs-landscape .seat-top { grid-row:1; grid-column:2; }

body.ui-landscape .seat-right,
body.ui-fs-landscape .seat-right { grid-row:2; grid-column:3; }

body.ui-landscape .seat-bottom,
body.ui-fs-landscape .seat-bottom { grid-row:3; grid-column:2; }

body.ui-landscape .seat-left,
body.ui-fs-landscape .seat-left { grid-row:2; grid-column:1; }

body.ui-landscape .center,
body.ui-fs-landscape .center { grid-row:2; grid-column:2; }

/* ------------------------------
   3) 좌석(Seat) 내부: 높이 폭발 방지
------------------------------ */

/* 점수 더 축소 */
body.ui-landscape .score,
body.ui-fs-landscape .score{
  font-size: 14px !important;
  line-height: 1.05 !important;
  margin: 2px 0 !important;
}

/* 버튼 공통(더 낮게) */
body.ui-landscape .btn,
body.ui-fs-landscape .btn{
  padding: 4px 7px !important;
  font-size: 11px !important;
  line-height: 1.05 !important;
  border-radius: 12px !important;
}
body.ui-landscape .btn.small,
body.ui-fs-landscape .btn.small{
  padding: 4px 7px !important;
  font-size: 11px !important;
}

/* ✅ 가장 중요: 좌석 actions는 "항상 2열"로 고정해서 세로 높이 줄이기 */
body.ui-landscape .actions,
body.ui-fs-landscape .actions{
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: 4px !important;
}

/* 버튼은 한 줄 고정(줄바꿈이 높이 늘리는 주범) */
body.ui-landscape .actions .btn,
body.ui-fs-landscape .actions .btn{
  width: 100% !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* ------------------------------
   4) center 내부: 더 압축
------------------------------ */
body.ui-landscape .statusbar,
body.ui-fs-landscape .statusbar{
  gap: 6px !important;
  padding: 5px 7px !important;
}

/* statusbar 텍스트 작게 */
body.ui-landscape .statusbar span,
body.ui-fs-landscape .statusbar span{
  font-size: 12px !important;
}

/* dealer 영역(친/친이동) 높이 줄이기 */
body.ui-landscape .dealer,
body.ui-fs-landscape .dealer{
  margin: 0 !important;
  padding: 0 !important;
  font-size: 12px !important;
}

/* center-actions: 2열로 고정(세로 높이 절약) */
body.ui-landscape .center-actions,
body.ui-fs-landscape .center-actions{
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: 4px !important;
}

/* 힌트는 가로에서 항상 숨김 */
body.ui-landscape .hint,
body.ui-fs-landscape .hint{
  display: none !important;
}

/* ------------------------------
   5) Ultra (아주 낮은 높이) 2단계 추가 압축
------------------------------ */
@media (orientation: landscape) and (max-height: 450px){

  body.ui-landscape #topbar.topbar,
  body.ui-fs-landscape #topbar.topbar{
    padding: 4px 8px !important;
  }

  body.ui-landscape #topbar .btn,
  body.ui-fs-landscape #topbar .btn{
    padding: 4px 8px !important;
    font-size: 11px !important;
  }

  body.ui-landscape .table,
  body.ui-fs-landscape .table{
    gap: 3px !important;
    padding: 3px !important;
    grid-template-rows: 0.88fr 1.24fr 0.88fr !important;
    grid-template-columns: 0.88fr 1.24fr 0.88fr !important;
  }

  body.ui-landscape .seat,
  body.ui-fs-landscape .seat,
  body.ui-landscape .center,
  body.ui-fs-landscape .center{
    padding: 4px !important;
    border-radius: 12px !important;
  }

  body.ui-landscape .score,
  body.ui-fs-landscape .score{
    font-size: 13px !important;
  }

  /* center-actions 버튼 더 낮게 */
  body.ui-landscape .center-actions .btn,
  body.ui-fs-landscape .center-actions .btn{
    padding: 4px 6px !important;
    font-size: 11px !important;
  }
}
